* [网络编程](#网络编程)
  * [IP和端口号](#ip和端口号)
  * [TCP](#tcp)
    * [TCP连接管理](#tcp连接管理)
      * [建立连接](#建立连接)
      * [断开连接](#断开连接)
      * [重传问题￥](#重传问题)
    * [可靠传输](#可靠传输)
    * [流量控制](#流量控制)
    * [拥塞控制](#拥塞控制)
  * [UDP](#udp)
  * [URL](#url)
  * [http](#http)
  * [参考文献](#参考文献)



## 网络编程

一、实现网络通信需要解决的两个问题

1.如何准确地定位网络上一台或多台主机；定位主机上的特定的应用

2.找到主机后如何可靠高效地进行数据传输

二、网络通信的两个要素：

1.对应问题一：IP和端口号

2.对应问题二：提供网络通信协议：TCP/IP参考模型（应用层、传输层、网络层、物理+数据链路层）

### IP和端口号

1.IP的理解

1. IP:唯一的标识 Internet 上的计算机（通信实体）

2. 在Java中使用InetAddress类代表IP

3. IP分类：IPv4 和 IPv6 ; 万维网 和 局域网

IPV4：4个字节组成，4个0-255。大概42亿，30亿都在北美，亚洲4亿。2011年初已 经用尽。以点分十进制表示，如192.168.0.1

IPV6：128位（16个字节），写成8个无符号整数，每个整数用四个十六进制位表示， 数之间用冒号（：）分开，如：3ffe:3201:1401:1280:c8ff:fe4d:db39:1984

4. 域名:   www.baidu.com   www.mi.com  www.sina.com  www.jd.com


域名解析：域名容易记忆，当在连接网络时输入一个主机的域名后，域名服务器(DNS)负责将域名转化成IP地址，这样才能和主机建立连接。 -------域名解析

5. 本地回路地址：127.0.0.1 对应着：localhost

2.端口号：正在计算机上运行的进程。

* 要求：不同的进程不同的端口号
* 范围：被规定为一个 16 位的整数 0~65535。



端口号与IP地址的组合得出一个网络套接字：Socket

### TCP

网络笔记：https://blog.csdn.net/weixin_45067603/article/details/107034202

面向连接的传输协议；

#### TCP连接管理

ACK：确认位；SYN：同步位；seq：序号；ack：确认号；

##### 建立连接

第一次（C连接请求报文段）：SYN=1：Client （C）请求连接；seq=x（随机）：

第二次（S为该连接分配缓存和变量，返回确认报文段）：SYN=1：Server（S）同意连接；ACK=1：连接建立了，之后的ACK置1；seq=y：随机；ack=x+1；（大小写ACK配套使用）

第三次（C为TCP连接分配缓存和变量，向服务端发送确认，可携带数据）：SYN=0：ACK=1：seq=x+1：ack=y+1：

为什么？3次握手已经可以保证较高的通信成功概率，再增加握手次数对通信提升效果有限；减少次数可能导致C或S不知道对方状态而连接失败；

![image-20210302140900800](https://github.com/Lidlod/DailyRecordOfJava/blob/main/1-%E5%9F%BA%E7%A1%80/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B.assets/image-20210302140900800.png)

##### 断开连接

FIN：结束位；

客户，服务器两个进程都可以结束连接

第一步：C连接释放报文段。

第二步：S回送确认报文段，C连接已释放；

第三步：S发完数据，主动关闭TCP连接；

第四步：C回送确认报文段；

为什么？TCP是全双工模式的，客户端发送断开连接请求，只表示客户端没有数据发送了，但客户端仍能接受服务端数据；服务端接受到数据后，并不会立即关闭，先回复收到，再发出关闭；所以要四次握手来完成；

![image-20210302141444973](https://github.com/Lidlod/DailyRecordOfJava/blob/main/1-%E5%9F%BA%E7%A1%80/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B.assets/image-20210302141444973.png)



##### 重传问题￥

#### 可靠传输

#### 流量控制

TCP：滑动窗口控制

接收方动态的发送信息，告诉发送方窗口的大小；

#### 拥塞控制

四种算法两两结合使用

满开始和拥塞避免

快重传和快恢复



流量控制：点到点问题

拥塞控制：端到端问题；

### UDP

用户数据包协议



TCP和UDP异同

同：均为传输层协议，

异：（TCP）使用TCP协议前，须先建立TCP连接，形成传输数据通道 ；传输前，采用“三次握手”方式，点对点通信，是可靠的；TCP协议进行通信的两个应用进程：客户端、服务端；在连接中可进行大数据量的传输；传输完毕，需释放已建立的连接，效率低。

（UDP）将数据、源、目的封装成数据包，不需要建立连接；每个数据报的大小限制在64K内；发送不管对方是否准备好，接收方收到也不确认，故是不可靠的；可以广播发送；发送数据结束时无需释放资源，开销小，速度快。

应用场景：

TCP：电子邮件、文件传输。。

UDP：域名传唤、视屏播放。。

### URL

1.URL(Uniform Resource Locator)的理解:
统一资源定位符，对应着互联网的某一资源地址

2.URL的5个基本结构：

http://localhost:8080/examples/beauty.jpg?username=Tom

协议   主机名    端口号  资源地址           参数列表

3.如何实例化:

```java
URL url = new URL("http://localhost:8080/examples/beauty.jpg?username=Tom");
```



### http



### 参考文献

《计算机网络》

尚硅谷课程